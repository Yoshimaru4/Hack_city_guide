# Умный Городской Гид

## Описание проекта

Умный городской гид — это программное решение, предназначенное для создания интерактивного гида по культурным местам города. Проект реализован в несколько этапов:

1. **Сбор данных о культурных местах города:** на этом этапе производится сбор информации о достопримечательностях, музеях, театрах и других значимых объектах.
2. **Обработка данных:** обработка собранных данных для дальнейшего использования в гиде.
3. **Настройка хостинга и моделей:** настройка серверной инфраструктуры для хостинга приложения, а также подготовка и настройка моделей машинного обучения (LLM, TTS, STT) для обработки запросов и генерации ответов.
4. **Запуск пользовательского интерфейса (UI):** разработка и запуск пользовательского интерфейса, который позволит пользователям взаимодействовать с системой.

## Установка
# Установка Python и pip
Убедитесь, что у вас установлен Python и pip, прежде чем выполнять эти команды.

Для начала работы с проектом необходимо клонировать репозиторий и установить необходимые зависимости:

```bash
git clone https://github.com/Yoshimaru4/Hack_city_guide
cd Hack_city_guide
pip install -r requirements.txt
```



## Сбор данных
Процесс сбора данных делится на следующие шаги:

### Запуск скрипта для сбора ссылок
Сначала запустите `selenium_based_links_scrapper.py` для автоматического сбора объектов и ссылок на статьи о них.

```bash
python selenium_based_links_scrapper.py
```

### Сбор деталей со статей
Затем используйте `loc_continue_parser.py` для извлечения детальной информации из собранных статей.

```bash
python loc_continue_parser.py
```

### Объединение данных
Используйте `detail_combine.py` для объединения информации, собранной из различных категорий.

```bash
python detail_combine.py
```

## Обработка данных
После сбора данных следуйте этим шагам для их обработки:

### Обработка адресов
Запустите `process_addresses.py` для обработки и нормализации адресов собранных объектов.

```bash
python process_addresses.py
```

### Геокодирование
Используйте `geocode.py` для преобразования адресов в географические координаты.

```bash
python geocode.py
```

### Фильтрация отсутствующих координат
Запустите `filter_missing_coords.py`, чтобы отфильтровать объекты, у которых не удалось определить координаты.

```bash
python filter_missing_coords.py
```

## Настройка хостинга и моделей
Для настройки хостинга и моделей следуйте этим шагам:

### Базовая настройка
- Регистрация и получение API ключа: Зарегистрируйтесь на Together.ai и получите API ключ.
- Создание файла `.env`: Создайте файл `.env` в корне проекта и добавьте в него следующую строку:

```plaintext
TOGETHER_API_KEY=<ваш_ключ>
```

### Настройка голосового режима
Если вам необходим голосовой режим, выполните следующие дополнительные шаги:

- Регистрация на Runpod.io: Зарегистрируйтесь на Runpod.io и получите API ключ.
- Добавление ключа в `.env`: Добавьте полученный ключ в файл `.env`:

```plaintext
RUNPOD_API_KEY=<ваш_ключ>
```

### Настройка Speech to Text модели
Запустите serverless проект, выбрав шаблон FasterWhisper.
После инициализации проекта, замените stt_endpoint_id в app_full_voice.py на свой.

### Настройка Text to Speech модели
Сделайте fork репозитория Xtts-runpod-serverless.
Создайте serverless проект, указав свой fork в качестве шаблона.
После сборки (это может занять около 30 минут), замените tts_endpoint_id в app_full_voice.py на свой.

## Локальный запуск
Для запуска приложения локально с пользовательским интерфейсом используйте следующую команду:

```bash
streamlit run app_full_voice.py
```

Эта команда запустит локальный сервер Streamlit, через который вы сможете взаимодействовать с городским гидом через браузер.

## Протестировать запущенное решение можно тут
[mocowcityguide.ru](https://mocowcityguide.ru)